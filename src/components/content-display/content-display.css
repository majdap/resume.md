/*
  Content Display (CV Page)
  Goal: Maintain identical on-screen and printed layout & type scale.
  Strategy:
  - Use physical A4 dimensions (210mm x 297mm) so what you see equals print size at 100%.
  - Lock internal typography to fixed sizes (avoid root fluid vw-based clamp changes on print).
  - Allow horizontal scroll on very small viewports instead of shrinking layout (optional scaling could be added later with a wrapper).
*/

:host {
	/* A4 physical page size expressed in px for cross-browser identical wrapping */
	--cv-page-width: 793px; /* 210mm ≈ 793.7px */
	--cv-page-height: 1122px; /* 297mm ≈ 1122.5px */
	width: var(--cv-page-width);
	min-height: var(--cv-page-height);
	box-sizing: border-box;

	display: block;
	margin: 0; /* center in preview column */

	border-radius: var(--radius-s);
	box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);

	position: relative;
	overflow: visible;

	/* Lock type scale inside page (11pt ≈ 14.6667px) */
	line-height: 1.35;
	/* Override fluid clamp() values locally to fixed px to avoid viewport-based shifts (esp. Firefox print) */
	background: white;

	font-variant-ligatures: none;
	font-synthesis: none; /* prevent synthetic bold/italic affecting metrics */
	-moz-osx-font-smoothing: grayscale;
	-webkit-font-smoothing: antialiased;
	letter-spacing: 0;
	word-spacing: 0;
	word-break: normal;
	overflow-wrap: break-word;
	hyphens: manual;
	font-kerning: none;
	font-feature-settings:
		"kern" 0,
		"liga" 0,
		"clig" 0,
		"calt" 0;
	font-variant-ligatures: none;
	letter-spacing: normal;
	word-spacing: 0;
	font-synthesis: none;
	scale: 1;
	.selected {
		outline: 2px solid var(--color-focus-outline);
	}
}

/* Optional: Avoid breaking mid-section */
:host > * {
	page-break-inside: avoid;
}

/* Print styles */
@page {
	size: A4 portrait;
	margin: 0; /* we handle margins with internal padding */
}

@media print {
	:host {
		width: 100%;
		height: fit-content;
		margin: 0 !important;
		/* Keep border metrics to preserve line length; make invisible if desired */
		border-radius: 0 !important;
		box-shadow: none !important;
		-webkit-print-color-adjust: exact;
		print-color-adjust: exact;
		page-break-inside: avoid;
		overflow: visible !important;
		border: none;
		outline: none;
		/* background: blue; */
		.selected {
			outline: none !important;
		}
		&:last-child {
			page-break-after: none;
		}
	}

	/* Ensure individual sections can break across pages if needed */
	:host > * {
		page-break-inside: auto;
		orphans: 2;
		widows: 2;
	}
}
